(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(v){v.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},19319:function(v,P,s){"use strict";s.r(P);var ae=s(18106),O=s(7027),ne=s(34792),h=s(48086),d=s(39428),m=s(11849),f=s(3182),j=s(2824),re=s(17462),y=s(76772),K=s(36108),Z=s(48107),x=s(39464),R=s(89366),S=s(2603),L=s(67294),F=s(70469),B=s(5966),b=s(63434),n=s(21010),N=s(71390),H=s(36571),z=s(34687),_=s.n(z),e=s(85893),$=[{username:"\u90ED\u4FCA\u8C6A",password:"guojunhao"},{username:"\u738B\u4E9A\u4E1C",password:"wangyadong"},{username:"\u4E8E\u78CA",password:"yulei"},{username:"\u6768\u6D77\u5149",password:"yanghaiguang"}],G=function(D){var c=D.content;return(0,e.jsx)(y.Z,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},Y=function(){var D=(0,L.useState)({}),c=(0,j.Z)(D,2),I=c[0],J=c[1],Q=(0,L.useState)("account"),A=(0,j.Z)(Q,2),p=A[0],X=A[1],C=(0,n.tT)("@@initialState"),E=C.initialState,w=C.setInitialState,l=(0,n.YB)(),k=function(){var g=(0,f.Z)((0,d.Z)().mark(function i(){var r,o;return(0,d.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E==null||(r=E.fetchUserInfo)===null||r===void 0?void 0:r.call(E);case 2:if(o=t.sent,!o){t.next=6;break}return t.next=6,w(function(M){return(0,m.Z)((0,m.Z)({},M),{},{currentUser:o})});case 6:case"end":return t.stop()}},i)}));return function(){return g.apply(this,arguments)}}(),q=function(){var g=(0,f.Z)((0,d.Z)().mark(function i(r){var o,u,t,M,T,U;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(r,"values"),a.prev=1,a.next=4,(0,H.x4)((0,m.Z)((0,m.Z)({},r),{},{type:p}));case 4:if(o=a.sent,!$.find(function(W){return W.username===r.username&&W.password===r.password})){a.next=17;break}return u=l.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),h.default.success(u),localStorage.setItem("username",r.username),a.next=11,k();case 11:if(n.m8){a.next=13;break}return a.abrupt("return");case 13:return t=n.m8.location.query,M=t,T=M.redirect,n.m8.push(T||"/"),a.abrupt("return");case 17:console.log(o),J(o),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(1),U=l.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),h.default.error(U);case 25:case"end":return a.stop()}},i,null,[[1,21]])}));return function(r){return g.apply(this,arguments)}}(),ee=I.status,se=I.type;return(0,e.jsxs)("div",{className:_().container,children:[(0,e.jsx)("div",{className:_().lang,"data-lang":!0,children:n.pD&&(0,e.jsx)(n.pD,{})}),(0,e.jsx)("div",{className:_().content,children:(0,e.jsxs)(F.U,{logo:(0,e.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Ant Design",subTitle:l.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},actions:[(0,e.jsx)(n._H,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"},"loginWith"),(0,e.jsx)(K.Z,{className:_().icon},"AlipayCircleOutlined"),(0,e.jsx)(Z.Z,{className:_().icon},"TaobaoCircleOutlined"),(0,e.jsx)(x.Z,{className:_().icon},"WeiboCircleOutlined")],onFinish:function(){var g=(0,f.Z)((0,d.Z)().mark(function i(r){return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,q(r);case 2:case"end":return u.stop()}},i)}));return function(i){return g.apply(this,arguments)}}(),children:[(0,e.jsx)(O.Z,{activeKey:p,onChange:X,children:(0,e.jsx)(O.Z.TabPane,{tab:l.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),ee==="error"&&se==="account"&&(0,e.jsx)(G,{content:l.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),p==="account"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.Z,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(R.Z,{className:_().prefixIcon})},placeholder:l.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,e.jsx)(n._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,e.jsx)(B.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(S.Z,{className:_().prefixIcon})},placeholder:l.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,e.jsx)(n._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(b.Z,{noStyle:!0,name:"autoLogin",children:(0,e.jsx)(n._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,e.jsx)("a",{style:{float:"right"},children:(0,e.jsx)(n._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,e.jsx)(N.Z,{})]})};P.default=Y}}]);
