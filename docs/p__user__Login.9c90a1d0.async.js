(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(x){x.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},65161:function(x,Z,a){"use strict";a.r(Z),a.d(Z,{default:function(){return Q}});var ne=a(18106),M=a(7027),re=a(34792),S=a(48086),d=a(39428),f=a(11849),h=a(3182),L=a(2824),te=a(17462),A=a(76772),D=a(36108),H=a(48107),P=a(39464),z=a(89366),W=a(2603),F=a(67294),$=a(70469),B=a(5966),E=a(63434),n=a(21010),G=a(71390),K=a(36571),Y=a(34687),i=a.n(Y),R=[{username:"\u90ED\u4FCA\u8C6A",password:"guojunhao"},{username:"\u738B\u4E9A\u4E1C",password:"wangyadong"},{username:"\u4E8E\u78CA",password:"yulei"},{username:"\u6768\u6D77\u5149",password:"yanghaiguang"}],e=a(85893),V=function(j){var m=j.content;return(0,e.jsx)(A.Z,{style:{marginBottom:24},message:m,type:"error",showIcon:!0})},J=function(){var j=(0,F.useState)({}),m=(0,L.Z)(j,2),C=m[0],w=m[1],b=(0,F.useState)("account"),I=(0,L.Z)(b,2),y=I[0],k=I[1],T=(0,n.tT)("@@initialState"),v=T.initialState,q=T.setInitialState,g=(0,n.YB)(),_=function(){var c=(0,h.Z)((0,d.Z)().mark(function l(){var r,u;return(0,d.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v==null||(r=v.fetchUserInfo)===null||r===void 0?void 0:r.call(v);case 2:if(u=t.sent,!u){t.next=6;break}return t.next=6,q(function(p){return(0,f.Z)((0,f.Z)({},p),{},{currentUser:u})});case 6:case"end":return t.stop()}},l)}));return function(){return c.apply(this,arguments)}}(),ee=function(){var c=(0,h.Z)((0,d.Z)().mark(function l(r){var u,o,t,p,O,N;return(0,d.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(r,"values"),s.prev=1,s.next=4,(0,K.x4)((0,f.Z)((0,f.Z)({},r),{},{type:y}));case 4:if(u=s.sent,!R.find(function(U){return U.username===r.username&&U.password===r.password})){s.next=17;break}return o=g.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),S.default.success(o),localStorage.setItem("username",r.username),s.next=11,_();case 11:if(n.m8){s.next=13;break}return s.abrupt("return");case 13:return t=n.m8.location.query,p=t,O=p.redirect,n.m8.push(O||"/"),s.abrupt("return");case 17:console.log(u),w(u),s.next=25;break;case 21:s.prev=21,s.t0=s.catch(1),N=g.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),S.default.error(N);case 25:case"end":return s.stop()}},l,null,[[1,21]])}));return function(r){return c.apply(this,arguments)}}(),ae=C.status,se=C.type;return(0,e.jsxs)("div",{className:i().container,children:[(0,e.jsx)("div",{className:i().lang,"data-lang":!0,children:n.pD&&(0,e.jsx)(n.pD,{})}),(0,e.jsx)("div",{className:i().content,children:(0,e.jsxs)($.U,{logo:(0,e.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Ant Design",subTitle:g.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},actions:[(0,e.jsx)(n._H,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"},"loginWith"),(0,e.jsx)(D.Z,{className:i().icon},"AlipayCircleOutlined"),(0,e.jsx)(H.Z,{className:i().icon},"TaobaoCircleOutlined"),(0,e.jsx)(P.Z,{className:i().icon},"WeiboCircleOutlined")],onFinish:function(){var c=(0,h.Z)((0,d.Z)().mark(function l(r){return(0,d.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ee(r);case 2:case"end":return o.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),children:[(0,e.jsx)(M.Z,{activeKey:y,onChange:k,children:(0,e.jsx)(M.Z.TabPane,{tab:g.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),ae==="error"&&se==="account"&&(0,e.jsx)(V,{content:g.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),y==="account"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.Z,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(z.Z,{className:i().prefixIcon})},placeholder:g.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,e.jsx)(n._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,e.jsx)(B.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(W.Z,{className:i().prefixIcon})},placeholder:g.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,e.jsx)(n._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(E.Z,{noStyle:!0,name:"autoLogin",children:(0,e.jsx)(n._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,e.jsx)("a",{style:{float:"right"},children:(0,e.jsx)(n._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,e.jsx)(G.Z,{})]})},Q=J}}]);
