var y=Object.assign;(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[572],{76985:function(he,j,c){"use strict";c.r(j),c.d(j,{default:function(){return ue}});var pe=c(58024),x=c(91894),me=c(57663),P=c(71577),L=c(69610),M=c(54941),O=c(81306),U=c(6298),_=c(67294);const H=500,K=20,V=300,W="https://stackblitz.com",I=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],B=["project","search","ports","settings"],G=["light","dark"],Z=["editor","preview"],T={clickToLoad:e=>l("ctl",e),devToolsHeight:e=>C("devtoolsheight",e),forceEmbedLayout:e=>l("embed",e),hideDevTools:e=>l("hidedevtools",e),hideExplorer:e=>l("hideExplorer",e),hideNavigation:e=>l("hideNavigation",e),openFile:e=>D("file",e),showSidebar:e=>k("showSidebar",e),sidebarView:e=>g("sidebarView",e,B),startScript:e=>D("startScript",e),terminalHeight:e=>C("terminalHeight",e),theme:e=>g("theme",e,G),view:e=>g("view",e,Z),zenMode:e=>l("zenMode",e)};function $(e={}){const t=Object.entries(e).map(([n,r])=>r!=null&&T.hasOwnProperty(n)?T[n](r):"").filter(Boolean);return t.length?`?${t.join("&")}`:""}function l(e,t){return t===!0?`${e}=1`:""}function k(e,t){return typeof t=="boolean"?`${e}=${t?"1":"0"}`:""}function C(e,t){if(typeof t=="number"&&!Number.isNaN(t)){const n=Math.min(100,Math.max(0,t));return`${e}=${encodeURIComponent(Math.round(n))}`}return""}function g(e,t="",n=[]){return n.includes(t)?`${e}=${encodeURIComponent(t)}`:""}function D(e,t){return(Array.isArray(t)?t:[t]).filter(r=>typeof r=="string"&&r.trim()!=="").map(r=>`${e}=${encodeURIComponent(r)}`).join("&")}function N(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function E(e,t){return`${R(t)}${e}${$(t)}`}function w(e,t){const n={forceEmbedLayout:!0};return t&&typeof t=="object"&&Object.assign(n,t),`${R(n)}${e}${$(n)}`}function R(e={}){return(typeof e.origin=="string"?e.origin:W).replace(/\/$/,"")}function S(e,t,n){if(!t||!e||!e.parentNode)throw new Error("Invalid Element");e.id&&(t.id=e.id),e.className&&(t.className=e.className),z(t,n),e.replaceWith(t)}function b(e){if(typeof e=="string"){const t=document.getElementById(e);if(!t)throw new Error(`Could not find element with id '${e}'`);return t}else if(e instanceof HTMLElement)return e;throw new Error(`Invalid element: ${e}`)}function v(e){return e&&e.newWindow===!1?"_self":"_blank"}function z(e,t={}){const n=Object.hasOwnProperty.call(t,"height")?`${t.height}`:`${V}`,r=Object.hasOwnProperty.call(t,"width")?`${t.width}`:void 0;e.setAttribute("height",n),r?e.setAttribute("width",r):e.setAttribute("style","width:100%;")}class q{constructor(t){this.pending={},this.port=t,this.port.onmessage=this.messageListener.bind(this)}request({type:t,payload:n}){return new Promise((r,i)=>{const s=N();this.pending[s]={resolve:r,reject:i},this.port.postMessage({type:t,payload:y(y({},n),{__reqid:s})})})}messageListener(t){var a;if(typeof((a=t.data.payload)==null?void 0:a.__reqid)!="string")return;const{type:n,payload:r}=t.data,{__reqid:i,__success:s,__error:d}=r;this.pending[i]&&(s?this.pending[i].resolve(this.cleanResult(r)):this.pending[i].reject(d?`${n}: ${d}`:n),delete this.pending[i])}cleanResult(t){const n=y({},t);return delete n.__reqid,delete n.__success,delete n.__error,Object.keys(n).length?n:null}}class J{constructor(t,n){this.editor={openFile:r=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:r}}),setCurrentFile:r=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:r}}),setTheme:r=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:r}}),setView:r=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:r}}),showSidebar:(r=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:r}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(r=>{var i;return(i=r==null?void 0:r.url)!=null?i:null}),setUrl:(r="/")=>{if(typeof r!="string"||!r.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${r}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:r}})}},this._rdc=new q(t),Object.defineProperty(this.preview,"origin",{value:typeof n.previewOrigin=="string"?n.previewOrigin:null,writable:!1})}applyFsDiff(t){const n=r=>r!==null&&typeof r=="object";if(!n(t)||!n(t.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(t.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:t})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const m=[];class X{constructor(t){this.id=N(),this.element=t,this.pending=new Promise((n,r)=>{const i=({data:o,ports:u})=>{(o==null?void 0:o.action)==="SDK_INIT_SUCCESS"&&o.id===this.id&&(this.vm=new J(u[0],o.payload),n(this.vm),d())},s=()=>{var o;(o=this.element.contentWindow)==null||o.postMessage({action:"SDK_INIT",id:this.id},"*")};function d(){window.clearInterval(h),window.removeEventListener("message",i)}window.addEventListener("message",i),s();let a=0;const h=window.setInterval(()=>{if(this.vm){d();return}if(a>=K){d(),r("Timeout: Unable to establish a connection with the StackBlitz VM"),m.forEach((o,u)=>{o.id===this.id&&m.splice(u,1)});return}a++,s()},H)}),m.push(this)}}const Y=e=>{var n;const t=e instanceof Element?"element":"id";return(n=m.find(r=>r[t]===e))!=null?n:null};function Q(e,t){const n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}function ee(e){return e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function A({template:e,title:t,description:n,dependencies:r,files:i,settings:s}){if(!I.includes(e)){const o=I.map(u=>`'${u}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${o}`)}const d=[],a=(o,u,le="")=>{d.push(Q(o,typeof u=="string"?u:le))};a("project[title]",t),typeof n=="string"&&n.length>0&&a("project[description]",n),a("project[template]",e,"javascript"),r&&(e==="node"?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):a("project[dependencies]",JSON.stringify(r))),s&&a("project[settings]",JSON.stringify(s)),Object.entries(i).forEach(([o,u])=>{a(`project[files][${ee(o)}]`,u)});const h=document.createElement("form");return h.method="POST",h.setAttribute("style","display:none!important;"),h.append(...d),h}function te(e,t){const n=A(e);return n.action=w("/run",t),n.id="sb_run",`<!doctype html>
<html>
<head><title></title></head>
<body>
  ${n.outerHTML}
  <script>document.getElementById('${n.id}').submit();</script>
</body>
</html>`}function ne(e,t){const n=A(e);n.action=E("/run",t),n.target=v(t),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}function f(e){var n;return(e==null?void 0:e.contentWindow)?((n=Y(e))!=null?n:new X(e)).pending:Promise.reject("Provided element is not an iframe.")}function re(e,t){ne(e,t)}function ie(e,t){const n=E(`/edit/${e}`,t),r=v(t);window.open(n,r)}function oe(e,t){const n=E(`/github/${e}`,t),r=v(t);window.open(n,r)}function se(e,t,n){var d;const r=b(e),i=te(t,n),s=document.createElement("iframe");return S(r,s,n),(d=s.contentDocument)==null||d.write(i),f(s)}function ce(e,t,n){const r=b(e),i=document.createElement("iframe");return i.src=w(`/edit/${t}`,n),S(r,i,n),f(i)}function de(e,t,n){const r=b(e),i=document.createElement("iframe");return i.src=w(`/github/${t}`,n),S(r,i,n),f(i)}const F={connect:f,embedGithubProject:de,embedProject:se,embedProjectId:ce,openGithubProject:oe,openProject:re,openProjectId:ie};var ae=c(52473),p=c(85893),ue=function(e){(0,O.Z)(n,e);var t=(0,U.Z)(n);function n(r){var i;return(0,L.Z)(this,n),i=t.call(this,r),i.state={},i}return(0,M.Z)(n,[{key:"render",value:function(){return(0,p.jsx)(ae.ZP,{children:(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(P.Z,{onClick:function(){F.openProjectId("css-custom-prop-color-values",{newWindow:!1,view:"preview"})},type:"primary",children:"Click Me"}),(0,p.jsx)(P.Z,{onClick:function(){F.embedProjectId("ReduxAndReactRedux","react-ts-react-reduxandredux",{forceEmbedLayout:!0,openFile:"component/index.tsx"})},type:"primary",children:"react-redux \u7684\u4F7F\u7528"}),(0,p.jsx)("div",{id:"ReduxAndReactRedux"})]})})}}]),n}(_.Component)}}]);
